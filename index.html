<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


        <script>
        



            function check(input, min, max) {
              input = document.getElementById(input.id)
              console.log(input.value)
              if (input.value < min) {
                input.setCustomValidity('The number can\'t be less than ' + min);
                console.log('here')
              } 
              else if (input.value > max){
                console.log("here1")
                input.setCustomValidity('The number can\'t be greater than ' + max);
              }
              else {
                console.log("here2")
                // input is fine -- reset the error message
                input.setCustomValidity('');
              }
              input.reportValidity()
            }

            window.csvList = ["PSA0","PSB0","PSA1","PSB1","PSA2","PSB2","PRL2","PSA3","PSB3","PSA4","PSB4","PSA5","PSB5","PSA6","PSB6","BSAA","BSBA","BSCA","BSFA","BSGA","PLHA","PRHA","PTHA","PFLA","PPLA","PFNA","PLNA","BSPA","PCSA","PLSA","BSSA","PTSA","TRTA","BSTA","PSTA","BSWA","TRCB","TRFB","PLIB","PFPB","TRPB","TRSB","PVSB","PKAC","PACC","PNEC","TRIC","PLMC","PMPC","PLSC","TRSC","PLZC","PTAD","PLBD","PGID","TGID","POID","PUND","PSPD","PAGE","PGHE","PUHE","PLPE","PBRE","PRSE","PEYE","PPBF","PRBF","TRCF","PSHG","PBSG","TRBH","PTGH","PSKH","PCPH","PLSH","PRSH","PCTH","PLTH","PRTH","PLCI","PAGI","PSKI","PDPI","PPTI","PINJ","PTAK","PPBK","PRBK","PNEK","TRFK","PFMK","PHCL","TRCL","PCEL","PLEL","PREL","PCOL","PROL","PLPL","PSPL","PLRL","PGSL","PLTL","TRTL","PCYL","PTAM","TCFM","TRHM","PLJM","PHLM","TSPM","TCSM","PLSM","PSTM","PHAN","PICN","ISCN","PJEN","PTEN","PLKN","PRKN","PCON","PHSN","PHTN","PSTN","PSBO","PVCO","TRDO","PEGO","PFHO","PLMO","PLPO","PDRO","PLBP","TRDP","TRFP","PTHP","PIMP","PJMP","PYRP","TRSP","PSXP","PCAR","TRBR","PJER","TRJR","PMOR","PTOR","PKPR","PLPR","PSPR","PLRR","PLTR","TRTR","PSTR","POVR","PAWR","PLWR","PRWR","PTAS","PPBS","PQBS","PRBS","TRCS","TRDS","PVIS","PFMS","PPOS","PEPS","TRTS","PVTS","BSAT","BSBT","TRCT","BSCT","BSFT","PHGT","BSGT","PWGT","PLHT","PCMT","BSPT","PKRT","BSST","BSTT","BSWT","PYWT","PELU","PLPU","TRWU","EPAV","PBCV","PLHW","TRSW","TRFY","PLHY","PJTY","PSTY","PLPm"]

            window.samplePlayerCsvList = ["1788","0","0","0","0","0","31","0","0","0","0","0","0","0","0","9","9","10","10","10","24","24","31","0","6","Allen","Robinson II","1","1788","68","10","1788","0","9","89","8","4","1","53","0","1","0","0","30","92","0","1","18","1","95","1","24","6","50101","112","14","112","0","89","28","213","0","25","0","3","0","17","32","3","6","40","0","90","1","0","1","1","93","2","2","94","89","1","29","0","90","42","38","57","0","0","37","0","0","1","0","0","165","31","100","0","90","0","1","0","1","10","0","1","83","14","1","0","74","10","0","0","0","12","1","2","2","1","21","Detroit","0","0","1","0","3","0","1","90","2","1","0","2","30","10","95","7","1","0","83","0","0","1","0","10","25","26","0","80","61","0","70","87","88","0","0","15","23","0","39","4","0","0","10","4","NULL","0","1788","2","5","1","30","2","74","1","60","15","2047","0","72","3","2","5","2","87","44","1","3","85","0","0","1","-31","0","0","10"]
            window.constantMap = {
                POTENTIAL: 'PLPO',
                OVERALL: 'POVR',
                POSITION: 'PPOS',
                PLAYER_ID: 'PGID',
                TEAM_ID: 'TGID',
                JERSEY_NUMBER: 'PJEN',
                FIRST_NAME: 'PFNA',
                LAST_NAME: 'PLNA',

                PORTRAITID: 'PSXP',
                WEIGHT: 'PWGT',
                SKIN_COLOR: 'PCPH',
                SKIN_TONE: 'PSKI',
                HAIR_COLOR: 'PHCL',
                HELMET: 'PHLM',

                VISOR: 'PVIS',
                FLAK_JACKET: 'PFLA',
                FACEMASK: 'PFMK',

                BIRTHDAY: 'PLBD',
                COLLEGE: 'PCOL',
                AGE: 'PAGE',
                EXPERIENCE: 'PYRP',

                SPEED: 'PSPD',
                STAMINA: 'PSTA',
                STRENGTH: 'PSTR',
                JUMPING: 'PJMP',
                AGILITY: 'PAGI',
                AWARENESS: 'PAWR',
                ACCELERATION: 'PACC',
                INJURY: 'PINJ',

                PLAY_ACTION: 'PPLA',
                DEEP_THROW_ACCURACY: 'PTAD',
                MEDIUM_THROW_ACCURACY: 'PTAM',
                SHORT_THROW_ACCURACY: 'PTAS',
                THROW_ACCURACY: 'PTHA',
                THROW_POWER: 'PTHP',
                THROW_ON_THE_RUN: 'PTOR',

                STIFF_ARM: 'PLSA',
                SPIN_MOVE: 'PLSM',
                TRUCKING: 'PLTR',
                BALL_CARRIER_VISION: 'PBCV',
                CARRYING: 'PCAR',
                ELUSIVENESS: 'PELU',
                JUKE_MOVE: 'PLJM',

                CATCH_IN_TRAFFIC: 'PLCI',
                RELEASE: 'PLRL',
                ROUTE_RUNNING: 'PLRR',
                SPECTACULAR_CATCH: 'PLSC',
                CATCHING: 'PCTH',

                IMPACT_BLOCK: 'PLIB',
                PASS_BLOCK_FOOTWORK: 'PPBF',
                PASS_BLOCK: 'PPBK',
                RUN_BLOCK_FOOTWORK: 'PRBF',
                RUN_BLOCK: 'PRBK',
                RUN_BLOCK_STRENGTH: 'PRBS',
                PASS_BLOCK_STRENGTH: 'PPBS',

                HIT_POWER: 'PLHT',
                PLAY_RECOGNITION: 'PLPR',
                PURSUIT: 'PLPU',
                TACKLING: 'PTAK',

                POWER_MOVES: 'PLPm',
                BLOCK_SHEDDING: 'PBSG',
                FINESSE_MOVES: 'PFMS',

                MAN_COVERAGE: 'PLMC',
                PRESS_COVERAGE: 'PLPE',
                ZONE_COVERAGE: 'PLZC',
                PRESS: 'PLPE',

                KICK_RETURN: 'PKRT',

                KICK_POWER: 'PKPR',
                KICK_ACCURACY: 'PKAC'}
        
        function to_csv() {
            ret = ""
            for(i = 0; i <  window.csvList.length; ++i) {
                str = window.csvList[i]
                if(document.getElementById(str) != null && document.getElementById(str).value != "") {
                    ret += (document.getElementById(str).value + ",")
                }
                else {
                    ret += window.samplePlayerCsvList[i] + ","
                }
            }
            ret = ret.substring(0, ret.length - 1);
            // for (const [key, value] of Object.entries(window.constantMap)) {
            //     if(document.getElementById(value) != null) {
            //         console.log(document.getElementById(value).value);
            //     }
            // }
            console.log(ret)
            document.getElementById('csvParagraph').innerText = ret
                        document.getElementById('csvHeader').style = "visibility: visible"
            document.getElementById('csvParagraph').style = "visibility: visible"
            document.getElementById('csvButton').style = "visibility: visible"
        }

        function make_all(value) {
            var children = document.getElementById("ratings").children;

            var idArr = [];

            for (var i = 0; i < children.length; i++) {
                idArr.push(children[i].id);
            }

            console.log(idArr);
            console.log('make all ' + value)
            for (i = 0; i < idArr.length; ++i) {
                if(document.getElementById(idArr[i]) != null)
                document.getElementById(idArr[i]).value = value
            }
            console.log(idArr);
            document.getElementById('PLPE').value = value
        }

        </script>
    </head>
<body>



<h2>Create A Player</h2>
<h3>Personal Information</h3>
<iframe name="votar" style="display:none;"></iframe>
<form action="to_csv()" method="post" target="votar">
  First name:
  <input type="text" id="PFNA" name="PFNA"><br>
  Last name:
  <input type="text" id="PLNA" name="PLNA"><br>
  Potential:
  <input type="number"  onkeyup="check(this, 0, 127)" id="PLPO" name="PLPO"><br>
  Jersey Number:
  <input type="number"  onkeyup="check(this, 0, 127)" id="PJEN" name="PJEN"><br>
  Age:
  <input type="number"  onkeyup="check(this, 0, 127)" id="PAGE" name="PAGE"><br>
  Team:
  <select name="teams" id="TGID">
    <option value="Bears">Bears</option>
    <option value="Bengals">Bengals</option>
    <option value="Bils">Bils</option>
    <option value="Broncos">Broncos</option>
    <option value="Browns">Browns</option>
    <option value="Buccaneers">Buccaneers</option>
    <option value="Cardinals">Cardinals</option>
    <option value="Chargers">Chargers</option>
    <option value="Chiefs">Chiefs</option>
    <option value="Colts">Colts</option>
    <option value="Cowboys">Cowboys</option>
    <option value="Dolphins">Dolphins</option>
    <option value="Eagles">Eagles</option>
    <option value="Falcons">Falcons</option>
    <option value="Niners">Niners</option>
    <option value="Giants">Giants</option>
    <option value="Jaguars">Jaguars</option>
    <option value="Jets">Jets</option>
    <option value="Lions">Lions</option>
    <option value="Packers">Packers</option>
    <option value="Panthers">Panthers</option>
    <option value="Patriots">Patriots</option>
    <option value="Raiders">Raiders</option>
    <option value="Rams">Rams</option>
    <option value="Ravens">Ravens</option>
    <option value="Commanders">Commanders</option>
    <option value="Saints">Saints</option>
    <option value="Seahawks">Seahawks</option>
    <option value="Steelers">Steelers</option>
    <option value="Titans">Titans</option>
    <option value="Vikings">Vikings</option>
    <option value="Texans">Texans</option>
  </select>
</form>
Position:
<select name="positions" id="PPOS">
    <option value="QB">QB</option>
    <option value="HB">HB</option>
    <option value="FB">FB</option>
    <option value="WR">WR</option>
    <option value="TE">TE</option>
    <option value="LT">LT</option>
    <option value="LG">LG</option>
    <option value="C">C</option>
    <option value="RG">RG</option>
    <option value="RT">RT</option>
    <option value="LE">LE</option>
    <option value="RE">RE</option>
    <option value="DT">DT</option>
    <option value="LOLB">LOLB</option>
    <option value="MLB">MLB</option>
    <option value="ROLB">ROLB</option>
    <option value="CB">CB</option>
    <option value="FS">FS</option>
    <option value="SS">SS</option>
    <option value="K">K</option>
    <option value="P">P</option>
  </select>
<hr>
<h3>Physical Traits</h3>
Height (in inches):
<input type="number" id="PFNA" name="PFNA"><br>
Weight:
<input type="number" id="PWGT" name="PWGT"><br>
<hr>
<hr>
<h3>Ratings</h3>
<button id="127" onclick="make_all(127)">Make All 127</button>
<button id="99" onclick="make_all(99)">Make All 99</button>
<button id="0" onclick="make_all(0)">Make All 0</button>
<br>
<div id="ratings">
SPEED:
<input type="number" onkeyup="check(this, 0, 127)" id="PSPD" name="PSPD"><br><br>
STAMINA:
<input type="number" onkeyup="check(this, 0, 127)" id="PSTA" name="PSTA"><br><br>
STRENGTH:
<input type="number" onkeyup="check(this, 0, 127)" id="PSTR" name="PSTR"><br><br>
JUMPING:
<input type="number" onkeyup="check(this, 0, 127)" id="PJMP" name="PJMP"><br><br>
AGILITY:
<input type="number" onkeyup="check(this, 0, 127)" id="PAGI" name="PAGI"><br><br>
AWARENESS:
<input type="number" onkeyup="check(this, 0, 127)" id="PAWR" name="PAWR"><br><br>
ACCELERATION:
<input type="number" onkeyup="check(this, 0, 127)" id="PACC" name="PACC"><br><br>
INJURY:
<input type="number" onkeyup="check(this, 0, 127)" id="PINJ" name="PINJ"><br><br>
PLAY ACTION:
<input type="number" onkeyup="check(this, 0, 127)" id="PPLA" name="PPLA"><br><br>
DEEP THROW ACCURACY:
<input type="number" onkeyup="check(this, 0, 127)" id="PTAD" name="PTAD"><br><br>
MEDIUM THROW ACCURACY:
<input type="number" onkeyup="check(this, 0, 127)" id="PTAM" name="PTAM"><br><br>
SHORT THROW ACCURACY:
<input type="number" onkeyup="check(this, 0, 127)" id="PTAS" name="PTAS"><br><br>
THROW ACCURACY:
<input type="number" onkeyup="check(this, 0, 127)" id="PTHA" name="PTHA"><br><br>
THROW POWER:
<input type="number" onkeyup="check(this, 0, 127)" id="PTHP" name="PTHP"><br><br>
THROW ON THE RUN:
<input type="number" onkeyup="check(this, 0, 127)" id="PTOR" name="PTOR"><br><br>
CATCH IN TRAFFIC:
<input type="number" onkeyup="check(this, 0, 127)" id="PLCI" name="PLCI"><br><br>
RELEASE:
<input type="number" onkeyup="check(this, 0, 127)" id="PLRL" name="PLRL"><br><br>
ROUTE RUNNING:
<input type="number" onkeyup="check(this, 0, 127)" id="PLRR" name="PLRR"><br><br>
SPECTACULAR CATCH:
<input type="number" onkeyup="check(this, 0, 127)" id="PLSC" name="PLSC"><br><br>
CATCHING:
<input type="number" onkeyup="check(this, 0, 127)" id="PCTH" name="PCTH"><br><br>
IMPACT BLOCK:
<input type="number" onkeyup="check(this, 0, 127)" id="PLIB" name="PLIB"><br><br>
PASS BLOCK FOOTWORK:
<input type="number" onkeyup="check(this, 0, 127)" id="PPBF" name="PPBF"><br><br>
PASS BLOCK:
<input type="number" onkeyup="check(this, 0, 127)" id="PPBK" name="PPBK"><br><br>
RUN BLOCK FOOTWORK:
<input type="number" onkeyup="check(this, 0, 127)" id="PRBF" name="PRBF"><br><br>
RUN BLOCK:
<input type="number" onkeyup="check(this, 0, 127)" id="PRBK" name="PRBK"><br><br>
RUN BLOCK STRENGTH:
<input type="number" onkeyup="check(this, 0, 127)" id="PRBS" name="PRBS"><br><br>
PASS BLOCK STRENGTH:
<input type="number" onkeyup="check(this, 0, 127)" id="PPBS" name="PPBS"><br><br>
HIT POWER:
<input type="number" onkeyup="check(this, 0, 127)" id="PLHT" name="PLHT"><br><br>
PLAY RECOGNITION:
<input type="number" onkeyup="check(this, 0, 127)" id="PLPR" name="PLPR"><br><br>
PURSUIT:
<input type="number" onkeyup="check(this, 0, 127)" id="PLPU" name="PLPU"><br><br>
TACKLING:
<input type="number" onkeyup="check(this, 0, 127)" id="PTAK" name="PTAK"><br><br>
POWER MOVES:
<input type="number" onkeyup="check(this, 0, 127)" id="PLPm" name="PLPm"><br><br>
BLOCK SHEDDING:
<input type="number" onkeyup="check(this, 0, 127)" id="PBSG" name="PBSG"><br><br>
FINESSE MOVES:
<input type="number" onkeyup="check(this, 0, 127)" id="PFMS" name="PFMS"><br><br>
MAN COVERAGE:
<input type="number" onkeyup="check(this, 0, 127)" id="PLMC" name="PLMC"><br><br>
PRESS COVERAGE:
<input type="number" onkeyup="check(this, 0, 127)" id="PLPE" name="PLPE"><br><br>
ZONE COVERAGE:
<input type="number" onkeyup="check(this, 0, 127)" id="PLZC" name="PLZC"><br><br>
KICK POWER:
<input type="number" onkeyup="check(this, 0, 127)" id="PKPR" name="PKPR"><br><br>
KICK ACCURACY:
<input type="number" onkeyup="check(this, 0, 127)" id="PKAC" name="PKAC"><br><br>
</div>
<button onclick="to_csv()">Submit</button>
<hr>
<br>
<style>
    p {
        width:250px;
  padding-top:5px;
  border-style:solid;
  border-color:#336699;
  border-width:1px;
  padding-left:3px;
  padding-bottom:10px;
  word-wrap: break-word;
}
</style>

<h3 id="csvHeader" style="visibility:hidden">Player CSV</h3>
<p style="visibility:hidden" id="csvParagraph"></p>
<button id="csvButton" style="visibility:hidden" onclick="copyToClipboard()">Copy To clipboard</button>
<script>
    function copyToClipboard() {
    
      /* Get the text field */
      var copyText = document.getElementById("csvParagraph");
        console.log(copyText.innerHTML)
      
    
      /* Copy the text inside the text field */
      navigator.clipboard.writeText(copyText.innerText);
    }
    </script>
</body>

</html>
